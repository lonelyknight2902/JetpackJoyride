(()=>{"use strict";var e,s={173:(e,s,t)=>{const i=1365,a=500;var r=t(440),n=t.n(r);class l extends n().Scene{constructor(){super("TestScene")}preload(){this.load.setBaseURL("https://labs.phaser.io"),this.load.image("sky","assets/skies/space3.png"),this.load.image("logo","assets/sprites/phaser3-logo.png"),this.load.image("red","assets/particles/red.png")}create(){this.add.image(400,300,"sky");const e=this.add.particles(0,0,"red",{speed:100,scale:{start:1,end:0},blendMode:"ADD"}),s=this.physics.add.image(400,100,"logo");s.setVelocity(100,200),s.setBounce(1,1),s.setCollideWorldBounds(!0),e.startFollow(s)}}const h=l,o=class{constructor(e){this.bullets=[],this.scene=e}initializeWithSize(e){if(!(this.bullets.length>0||e<0))for(let s=0;s<e;s++){const e=new W(this.scene,0,0);e.setVisible(!1),e.setActive(!1),this.bullets.push(e)}}spawn(e,s){let t=this.bullets.find((e=>!e.active));return t||(t=new W(this.scene,0,0),this.bullets.push(t)),t.setRotation(Math.PI/2),t.setPosition(e,s),t.setVisible(!0),t.setActive(!0),t.state="alive",t.setTexture("bullet"),t.setScale(2),t.body.setVelocityY(2e3),console.log("bullet spawned"),console.log(this.bullets.length),t}despawn(e){e.setVisible(!1),e.setActive(!1)}despawnAll(){this.bullets.forEach((e=>{this.despawn(e)}))}update(){this.bullets.forEach((e=>{const s=610-Phaser.Math.Between(0,20);e.active&&e.y>=s&&"alive"===e.state?(e.play("bulletSplash",!0),e.state="dead",e.y=s,e.body.setVelocity(0),e.setRotation(0),e.setScale(1)):e.active&&"dead"===e.state&&1===e.anims.getProgress()&&this.despawn(e)}))}},c=class{constructor(e,s,t=[]){this._possibleStates={},this._initialState=e,this._possibleStates=s,this._state=null,this._stateArgs=t;for(const e in this._possibleStates)this._possibleStates[e].stateMachine=this}update(e,s){null===this._state&&(this._state=this._initialState,this._possibleStates[this._state].enter()),this._possibleStates[this._state].execute(e,s)}transition(e){this._state&&this._possibleStates[this._state].exit(),this._state=e,this._possibleStates[this._state].enter()}getState(){return this._state}},d=class{},p=class extends d{constructor(e,s){super(),this._player=e,this._scene=s}enter(){this._player.playerBody.anims.play("player-run"),this._player.playerHead.anims.play("player-run"),this._player.jetpack.anims.play("jetpack-run");const e=this._player.body;null==e||e.setSize(28,34)}exit(){}execute(){var e,s;((null===(s=null===(e=this._scene.input.keyboard)||void 0===e?void 0:e.createCursorKeys().space)||void 0===s?void 0:s.isDown)||this._scene.input.activePointer.isDown)&&(console.log("Player is ascending"),this.stateMachine.transition("player-ascend"))}},m=class extends d{constructor(e,s){super(),this._player=e,this._scene=s}enter(){this._player.playerBody.anims.play("player-descend"),this._player.playerHead.anims.play("player-descend"),this._player.jetpack.anims.play("jetpack-descend")}exit(){}execute(e,s){var t,i;((null===(i=null===(t=this._scene.input.keyboard)||void 0===t?void 0:t.createCursorKeys().space)||void 0===i?void 0:i.isDown)||this._scene.input.activePointer.isDown)&&(console.log("Player is ascending"),this.stateMachine.transition("player-ascend"));const a=this._player.body;(null==a?void 0:a.blocked.down)&&(console.log("Player is touching down"),this.stateMachine.transition("player-touchdown"))}},u=class extends d{constructor(e,s){super(),this._bulletTimer=0,this.currentAngle=80,this.angleStep=5,this._player=e,this._scene=s}enter(){this._player.playerBody.anims.play("player-ascend"),this._player.playerHead.anims.play("player-ascend"),this._player.jetpack.anims.play("jetpack-ascend-fire"),this._player.bulletFlash.setVisible(!0),this._player.bulletFlash.anims.play("bullet-flash");const e=this._player.bulletPool.spawn(this._player.x+4,this._player.y+45);e.setRotation(this.currentAngle*(Math.PI/180));const s=e.body;s.setVelocityX(s.velocity.y/Math.tan(this.currentAngle*(Math.PI/180))),this._player.getShell().start(),this._player.jetpack.fireSound.play();const t=this._player.body;t.setVelocityY(0),t.setAccelerationY(-2e3),t.setSize(24,36)}exit(){this._player.body.setAccelerationY(0)}execute(e,s){var t,i;if(this._player.body&&this._player.body.velocity.y>0)console.log("Player is descending"),this.stateMachine.transition("player-descend");else if((null===(i=null===(t=this._scene.input.keyboard)||void 0===t?void 0:t.createCursorKeys().space)||void 0===i?void 0:i.isDown)||this._scene.input.activePointer.isDown){if(this._bulletTimer+=s,"jetpack-ascend-fire"!==this._player.jetpack.anims.getName()){this._player.jetpack.anims.play("jetpack-ascend-fire"),this._player.bulletFlash.setVisible(!0),this._player.bulletFlash.anims.play("bullet-flash"),this._bulletTimer=0,this.currentAngle=80+5*Phaser.Math.Between(0,4),console.log("Firing bullet");const e=this._player.bulletPool.spawn(this._player.x,this._player.y);e.setRotation(this.currentAngle*(Math.PI/180));const s=e.body;s.setVelocityX(s.velocity.y/Math.tan(this.currentAngle*(Math.PI/180))),this._player.getShell().start()}else if(this._bulletTimer>20){this.currentAngle=80+5*Phaser.Math.Between(0,4),this._bulletTimer=0;const e=this._player.bulletPool.spawn(this._player.x+4,this._player.y+45);e.setRotation(this.currentAngle*(Math.PI/180));const s=e.body;s.setVelocityX(s.velocity.y/Math.tan(this.currentAngle*(Math.PI/180)))}this._player.jetpack.fireSound.isPlaying||"pause"===this._scene.stateMachine.getState()||this._player.jetpack.fireSound.play(),this._player.body.setAccelerationY(-2e3)}else this._player.bulletFlash.setVisible(!1),this._player.jetpack.anims.play("jetpack-ascend"),this._player.getShell().stop(),this._player.jetpack.fireSound.stop(),this._player.body.setAccelerationY(0)}},g=class extends d{constructor(e,s){super(),this._player=e,this._scene=s}enter(){this._player.playerBody.anims.play("player-touchdown"),this._player.playerHead.anims.play("player-touchdown"),this._player.jetpack.anims.play("jetpack-touchdown");const e=this._player.body;null==e||e.setSize(28,34)}exit(){}execute(){var e,s;1===this._player.playerBody.anims.getProgress()?(console.log("Player is running"),this.stateMachine.transition("player-run")):((null===(s=null===(e=this._scene.input.keyboard)||void 0===e?void 0:e.createCursorKeys().space)||void 0===s?void 0:s.isDown)||this._scene.input.activePointer.isDown)&&(console.log("Player is ascending"),this.stateMachine.transition("player-ascend"))}},y=class extends d{constructor(e,s){super(),this._player=e,this._scene=s}enter(){this._player.playerBody.anims.play("player-zap"),this._player.playerHead.anims.play("player-zap"),this._player.playerBoneAudio.play(),this._player.jetpack.setVisible(!1),this._player.bulletFlash.setVisible(!1),this._player.getShell().stop(),this._player.getShell().setVisible(!1),console.log("Player is zapping")}exit(){}execute(){1===this._player.playerBody.anims.getProgress()&&1===this._player.playerHead.anims.getProgress()&&(console.log("Player is dead"),this.stateMachine.transition("player-die"))}},b=class extends d{constructor(e,s){super(),this.bounceNumber=0,this._player=e,this._scene=s}enter(){this._player.playerBody.anims.play("player-die"),this._player.playerHead.anims.play("player-die"),this._player.jetpack.setVisible(!1),this._player.bulletFlash.setVisible(!1),this._player.setAngle(-90);const e=this._player.body;null==e||e.setSize(38,20),e.setOffset(-20,-30),e.setBounce(1),e.setDragX(1),this._player.jetpack.setVisible(!1),this._player.getShell().stop(),this._player.getShell().setVisible(!1)}exit(){this._player.setRotation(0);const e=this._player.body;null==e||e.setSize(24,36),e.setOffset(0,0),e.setBounce(0),e.setDragX(0),this.bounceNumber=0,this._player.jetpack.setVisible(!0),this._player.getShell().setVisible(!0)}execute(e,s){const t=this._player.body;t.blocked.down&&(this.bounceNumber>=1?t.setBounce(0):(this.bounceNumber++,t.setBounce(.5)))}},f=class extends d{constructor(e,s){super(),this._player=e,this._scene=s}enter(){this._player.playerBody.anims.play("player-burn"),this._player.playerHead.anims.play("player-burn"),this._player.playerBoneAudio.play(),this._player.jetpack.setVisible(!1),this._player.bulletFlash.setVisible(!1),this._player.getShell().stop(),this._player.getShell().setVisible(!1),console.log("Player is burning")}exit(){}execute(){1===this._player.playerBody.anims.getProgress()&&1===this._player.playerHead.anims.getProgress()&&(console.log("Player is dead"),this.stateMachine.transition("player-die"))}};class x extends Phaser.GameObjects.Sprite{constructor(e,s,t,i){super(e,s,t,i),this.anims.create({key:"bullet-flash",frames:this.anims.generateFrameNumbers("bullet-flash",{frames:[0,1,2,3]}),frameRate:12,repeat:-1})}}const w=x;class S extends Phaser.GameObjects.Sprite{constructor(e,s,t,i){super(e,s,t,i),this.anims.create({key:"jetpack-run",frames:this.anims.generateFrameNumbers("jetpack",{frames:[0,1,2,3]}),frameRate:10,repeat:-1}),this.anims.create({key:"jetpack-ascend-fire",frames:this.anims.generateFrameNumbers("jetpack",{frames:[4,5,6,7]}),frameRate:12,repeat:-1}),this.anims.create({key:"jetpack-ascend",frames:this.anims.generateFrameNumbers("jetpack",{frames:[8]}),frameRate:10,repeat:0}),this.anims.create({key:"jetpack-descend",frames:this.anims.generateFrameNumbers("jetpack",{frames:[8,9,10,11]}),frameRate:10,repeat:0}),this.anims.create({key:"jetpack-touchdown",frames:this.anims.generateFrameNumbers("jetpack",{frames:[12,13,14,15]}),frameRate:10,repeat:0}),this.fireSound=this.scene.sound.add("jetpackFire")}}const k=S;class _ extends Phaser.GameObjects.Sprite{constructor(e,s,t,i){super(e,s,t,i),this.anims.create({key:"player-run",frames:this.anims.generateFrameNumbers("player-body",{frames:[0,1,2,3]}),frameRate:10,repeat:-1}),this.anims.create({key:"player-ascend",frames:this.anims.generateFrameNumbers("player-body",{frames:[4,5,6,7]}),frameRate:10,repeat:0}),this.anims.create({key:"player-descend",frames:this.anims.generateFrameNumbers("player-body",{frames:[8,9,10,11]}),frameRate:10,repeat:0}),this.anims.create({key:"player-touchdown",frames:this.anims.generateFrameNumbers("player-body",{frames:[12,13,14,15]}),frameRate:10,repeat:0}),this.anims.create({key:"player-zap",frames:this.anims.generateFrameNumbers("player-body",{frames:[16,17,18,19]}),frameRate:10,repeat:0}),this.anims.create({key:"player-burn",frames:this.anims.generateFrameNumbers("player-body",{frames:[20,21,22,23]}),frameRate:10,repeat:-1}),this.anims.create({key:"player-die",frames:this.anims.generateFrameNumbers("player-body",{frames:[24,25,26,27,28,29,30,31]}),frameRate:10,repeat:0})}}const P=_;class M extends Phaser.GameObjects.Sprite{constructor(e,s,t,i){super(e,s,t,i),this.anims.create({key:"player-run",frames:this.anims.generateFrameNumbers("player-head",{frames:[0,1,2,3]}),frameRate:10,repeat:-1}),this.anims.create({key:"player-ascend",frames:this.anims.generateFrameNumbers("player-head",{frames:[4,5,6,7]}),frameRate:10,repeat:-1}),this.anims.create({key:"player-descend",frames:this.anims.generateFrameNumbers("player-head",{frames:[8,9,10,11]}),frameRate:10,repeat:0}),this.anims.create({key:"player-touchdown",frames:this.anims.generateFrameNumbers("player-head",{frames:[12,13,14,15]}),frameRate:10,repeat:0}),this.anims.create({key:"player-zap",frames:this.anims.generateFrameNumbers("player-head",{frames:[16,17,18,19]}),frameRate:10,repeat:0}),this.anims.create({key:"player-burn",frames:this.anims.generateFrameNumbers("player-head",{frames:[20,21,22,23]}),frameRate:10,repeat:-1}),this.anims.create({key:"player-die",frames:this.anims.generateFrameNumbers("player-head",{frames:[24,25,26,27,28,29,30,31]}),frameRate:10,repeat:0})}}const T=M;var v=t(499),O=t.n(v);class L extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this._scene=e,this._playerBody=new P(e,16,22,"player-body"),this._playerHead=new T(e,16,10,"player-head"),this._jetpack=new k(e,4,19,"jetpack"),this._bulletFlash=new w(e,4,45,"bullet-flash"),this._bulletFlash.setScale(.4),this.shell=e.add.particles(4,25,"shell",{speed:100,lifespan:1e3,gravityY:500,scale:.2}),this.shell.setAngle(60),this.shell.stop(),this.add(this._playerBody),this.add(this._playerHead),this.add(this._jetpack),this.add(this._bulletFlash),this.add(this.shell),this.sendToBack(this.shell),this._bulletFlash.setVisible(!1),this.bulletPool=new o(e),this.bulletPool.initializeWithSize(10),this.polygon=new(O().Box)(new(O().Vector)(this.x,this.y),32,64).toPolygon(),this._stateMachine=new c("player-descend",{"player-run":new p(this,e),"player-ascend":new u(this,e),"player-descend":new m(this,e),"player-touchdown":new g(this,e),"player-zap":new y(this,e),"player-burn":new f(this,e),"player-die":new b(this,e)}),e.add.existing(this),e.physics.add.existing(this);const i=this.body;null==i||i.setSize(28,34),i.setCollideWorldBounds(!0),this.playerBoneAudio=e.sound.add("playerBones")}static getInstance(e,s,t){return L.instance||(L.instance=new L(e,s,t)),L.instance}update(e,s){this._stateMachine.update(e,s),this.bulletPool.update(),this.polygon.pos.x=this.x,this.polygon.pos.y=this.y}get playerBody(){return this._playerBody}get playerHead(){return this._playerHead}get jetpack(){return this._jetpack}get bulletFlash(){return this._bulletFlash}get stateMachine(){return this._stateMachine}getShell(){return this.shell}getCurrentState(){return this._stateMachine.getState()}isDead(){return"player-die"===this._stateMachine.getState()&&1===this._playerBody.anims.getProgress()}pause(){this.playerBody.anims.pause(),this.playerHead.anims.pause(),this.jetpack.anims.pause(),this.bulletFlash.anims.pause(),this.shell.pause()}resume(){this.playerBody.anims.resume(),this.playerHead.anims.resume(),this.jetpack.anims.resume(),this.bulletFlash.anims.resume(),this.shell.resume()}}const A=L;Phaser.Physics.Arcade.Sprite;class F{constructor(){this.distance=0,this.coin=0,this.bestDistance=0,this.distance=0,this.coin=0;const e=localStorage.getItem("bestDistance");e?this.bestDistance=parseInt(e):(this.bestDistance=0,localStorage.setItem("bestDistance","0"))}static getInstance(){return F.instance||(F.instance=new F),F.instance}getDistance(){return this.distance}getBestDistance(){return this.bestDistance}getCoin(){return this.coin}setDistance(e){this.distance=e}setCoin(e){this.coin=e}increaseDistance(e){this.distance+=e,Math.floor(this.distance)>this.bestDistance&&(this.bestDistance=Math.floor(this.distance))}increaseCoin(e){this.coin+=e}resetDistance(){this.distance=0}resetCoin(){this.coin=0}reset(){localStorage.setItem("bestDistance",String(this.bestDistance)),this.resetDistance(),this.resetCoin()}}const C=F;class V extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.currentSound=0,this.scene=e,this.coinMap=this.scene.make.tilemap({key:"coinShape"}),this.coinMap.createLayer(0,"coinLayer",0,0),this.coins=this.coinMap.createFromObjects("Coin",{gid:1,key:"coin"}),e.anims.play("spin",this.coins),this.add(this.coins),this.coins.forEach((s=>{e.physics.add.existing(s),e.physics.world.enable(s),s.body.setAllowGravity(!1),s.state="idle"})),this.scoreManager=C.getInstance();const i=A.getInstance(e,200,200);e.physics.add.overlap(i,this.coins,this.collectCoin,void 0,this),this.scene.add.existing(this),this.coinPickupSound=[this.scene.sound.add("coinPickup1"),this.scene.sound.add("coinPickup2"),this.scene.sound.add("coinPickup3")]}collectCoin(e,s){"collected"!=s.state&&(console.log("Coin collected"),s.state="collected",this.scene.anims.play("collect",s),this.scoreManager.increaseCoin(1),this.coinPickupSound[this.currentSound].play(),this.currentSound=(this.currentSound+1)%this.coinPickupSound.length)}resetCoin(){console.log("Coin reset"),this.coins.filter((e=>"collected"==e.state)).forEach((e=>{e.setVisible(!0),this.scene.anims.play("spin",e),e.state="idle"}))}}const B=V;class R extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.title=new Phaser.GameObjects.Image(e,0,0,"title"),this.titleGlow=new Phaser.GameObjects.Image(e,0,0,"titleGlow"),this.title.setOrigin(.5),this.titleGlow.setOrigin(.5),this.titleGlow.setScale(2),this.add(this.title),this.add(this.titleGlow),e.add.existing(this)}}const j=R;Phaser.GameObjects.Sprite;class I extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.orb1=e.add.sprite(0,0,"orb"),this.orb2=e.add.sprite(0,200,"orb"),this.zapper=e.add.sprite(0,0,"zapper"),this.glow1=e.add.sprite(0,0,"orbGlow"),this.glow2=e.add.sprite(0,200,"orbGlow"),this.orb1.flipY=!0,this.orb1.flipX=!0,this.zapper.setScale(200/this.zapper.width),this.orb1.setOrigin(.5),this.orb2.setOrigin(.5),this.zapper.setOrigin(0,.5),this.glow1.setOrigin(.5),this.glow2.setOrigin(.5),this.zapper.rotation=Math.PI/2,this.orb1.anims.create({key:"orb",frames:this.orb1.anims.generateFrameNumbers("orb",{start:0,end:3}),frameRate:10,repeat:-1}),this.orb2.anims.create({key:"orb",frames:this.orb2.anims.generateFrameNumbers("orb",{start:0,end:3}),frameRate:10,repeat:-1}),this.zapper.anims.create({key:"zapper",frames:this.zapper.anims.generateFrameNumbers("zapper",{start:0,end:3}),frameRate:12,repeat:-1}),this.glow1.anims.create({key:"glow",frames:this.zapper.anims.generateFrameNumbers("orbGlow",{start:0,end:15}),frameRate:20,repeat:-1}),this.glow2.anims.create({key:"glow",frames:this.zapper.anims.generateFrameNumbers("orbGlow",{start:0,end:15}),frameRate:20,repeat:-1}),this.orb1.play("orb"),this.orb2.play("orb"),this.zapper.play("zapper"),this.glow1.play("glow"),this.glow2.play("glow"),this.add(this.zapper),this.add(this.glow1),this.add(this.glow2),this.add(this.orb1),this.add(this.orb2),this.polygon=new(O().Box)(new(O().Vector)(this.x,this.y),60,240).toPolygon(),this.setRotation(Math.PI/6*Phaser.Math.Between(0,3));const i=this.rotation;this.polygon.setAngle(i),e.physics.add.existing(this);const a=this.body;a.setAllowGravity(!1);const r=this.getBounds();a.setSize(r.width,r.height),a.setOffset(r.x-this.x,r.y-this.y),e.add.existing(this);const n=A.getInstance(e,500,200);e.physics.add.overlap(this,n,((e,s)=>{console.log("Zapped"),"player-zap"!==s.stateMachine.state&&s.stateMachine.transition("player-zap")}),(()=>{const e=new(O().Response);return O().testPolygonPolygon(n.polygon,this.polygon,e)}),this)}update(e,s){const t=this.getWorldTransformMatrix(),i=t.tx+this.zapper.x*t.a+this.zapper.y*t.c,a=t.ty+this.zapper.x*t.b+this.zapper.y*t.d;this.polygon.pos=new(O().Vector)(i,a)}}const G=I;class N extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.missile=e.add.sprite(0,0,"missile"),this.missile.anims.create({key:"missile",frames:this.missile.anims.generateFrameNumbers("missile",{start:0,end:3}),frameRate:10,repeat:-1}),this.fire=e.add.sprite(64,0,"missileEffects"),this.fire.anims.create({key:"missileEffects",frames:this.fire.anims.generateFrameNumbers("missileEffects",{start:0,end:3}),frameRate:10,repeat:-1}),this.air=e.add.sprite(0,0,"missileEffects"),this.air.anims.create({key:"missileEffects",frames:this.air.anims.generateFrameNumbers("missileEffects",{start:4,end:7}),frameRate:10,repeat:-1}),this.explosion=e.add.sprite(0,0,"missileExplosion"),this.explosion.anims.create({key:"explosion",frames:this.explosion.anims.generateFrameNumbers("missileExplosion",{start:0,end:7}),frameRate:10,repeat:0,hideOnComplete:!0}),this.smoke=e.add.particles(32,0,"smoke",{speed:50,lifespan:500,gravityY:2e3,scale:{start:1,end:.5}}),this.missile.setScale(2),this.missile.setOrigin(.5),this.fire.setOrigin(.5),this.fire.setScale(2),this.air.setOrigin(.5),this.explosion.setOrigin(.5),this.smoke.setAngle(-90),this.missile.anims.play("missile"),this.fire.anims.play("missileEffects"),this.air.anims.play("missileEffects"),this.smoke.start(),this.explosion.setVisible(!1),this.add(this.fire),this.add(this.explosion),this.add(this.smoke),this.add(this.missile),this.add(this.air),this.sendToBack(this.smoke),e.add.existing(this),e.physics.add.existing(this);const i=this.body;i.setAllowGravity(!1),i.setOffset(-30,-20),i.setSize(64,32)}explode(){this.missile.setVisible(!1),this.fire.setVisible(!1),this.air.setVisible(!1),this.explosion.setVisible(!0),this.smoke.stop(),this.explosion.anims.play("explosion")}reset(){this.missile.setVisible(!0),this.fire.setVisible(!0),this.air.setVisible(!0),this.explosion.setVisible(!1),this.explosion.anims.stop(),this.smoke.start()}}const E=N;class z extends Phaser.GameObjects.Sprite{constructor(e,s,t){super(e,s,t,"bullet"),e.physics.world.enable(this),e.add.existing(this),this.anims.create({key:"bulletSplash",frames:this.anims.generateFrameNumbers("bulletSplash",{start:0,end:3}),frameRate:30,repeat:0}),this.setRotation(Math.PI/2),this.setScale(2);const i=this.body;i.setSize(this.height,this.width),i.setAllowGravity(!1)}}const W=z;class H extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t);const i=C.getInstance().getBestDistance();this.screen=e.add.sprite(0,0,"bestScreen"),this.screen.anims.create({key:"bestScreen",frames:e.anims.generateFrameNumbers("bestScreen",{start:0,end:3}),frameRate:10,repeat:-1}),this.screen.setOrigin(.5,0),this.screen.play("bestScreen"),this.bestText=e.add.bitmapText(0,18,"NewAthleticM54Blue","BEST",24),this.bestDistanceText=e.add.bitmapText(0,42,"NewAthleticM54Blue",`${i}m`,24),this.bestText.setOrigin(.5,0),this.bestDistanceText.setOrigin(.5,0),this.add(this.screen),this.add(this.bestText),this.add(this.bestDistanceText)}update(...e){const s=C.getInstance().getBestDistance();this.bestDistanceText.setText(`${s}m`)}}const D=H;class U extends Phaser.GameObjects.Sprite{constructor(e,s,t){super(e,s,t,"jetpackStand"),this.setFrame(0)}}const X=U;class K extends Phaser.GameObjects.Sprite{constructor(e,s,t){super(e,s,t,"laserPower"),this.anims.create({key:"laser-beam-on",frames:e.anims.generateFrameNumbers("laserPower",{start:8,end:11}),frameRate:10,repeat:-1}),this.anims.create({key:"laser-beam-off",frames:e.anims.generateFrameNumbers("laserPower",{start:12,end:15}),frameRate:10,repeat:0,hideOnComplete:!0}),e.add.existing(this),e.physics.add.existing(this);const i=this.body;i.setAllowGravity(!1),i.setSize(i.width,16)}}const Y=K;class Z extends Phaser.GameObjects.Sprite{constructor(e,s,t){super(e,s,t,"laserEnergy"),e.add.existing(this),this.anims.create({key:"laser-ready",frames:e.anims.generateFrameNumbers("laserEnergy",{start:0,end:3}),frameRate:10,repeat:0}),this.anims.create({key:"laser-done",frames:e.anims.generateFrameNumbers("laserEnergy",{start:4,end:7}),frameRate:10,repeat:0,hideOnComplete:!0}),this.setScale(.5)}}const $=Z;class J extends Phaser.GameObjects.Sprite{constructor(e,s,t){super(e,s,t,"laser"),this.anims.create({key:"laser-idle",frames:e.anims.generateFrameNumbers("laser",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"laser-charge",frames:e.anims.generateFrameNumbers("laser",{start:4,end:7}),frameRate:10,repeat:0}),this.anims.create({key:"laser-fire",frames:e.anims.generateFrameNumbers("laser",{start:8,end:11}),frameRate:10,repeat:0}),this.setScale(.5),this.scene.add.existing(this)}}const q=J;class Q extends Phaser.GameObjects.Sprite{constructor(e,s,t){super(e,s,t,"laserPower"),this.anims.create({key:"laser-on",frames:e.anims.generateFrameNumbers("laserPower",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"laser-off",frames:e.anims.generateFrameNumbers("laserPower",{start:4,end:7}),frameRate:10,repeat:0,hideOnComplete:!0}),e.add.existing(this)}}const ee=Q,se=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.laser=e,this.scene=s}enter(){console.log("Laser DeactivateState"),this.laser.laserPodLeft.x=-100,this.laser.laserPodRight.x=1465,this.laser.laserBeam.setVisible(!1),this.laser.laserBeam.setActive(!1),this.laser.laserEnergyLeft.setVisible(!1),this.laser.laserFlashLeft.setVisible(!1),this.laser.laserEnergyRight.setVisible(!1),this.laser.laserFlashRight.setVisible(!1),this.laser.laserWarning.setVisible(!1),this.laser.laserWarningAudio.stop(),this.laser.laserStartAudio.stop(),this.laser.laserFireAudio.stop(),this.laser.laserStopAudio.stop()}exit(){}execute(e,s){}},te=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.laser=e,this.scene=s}enter(){console.log("Laser ReadyState"),this.laser.laserPodLeft.play("laser-idle"),this.laser.laserPodRight.play("laser-idle"),this.scene.tweens.add({targets:this.laser.laserPodLeft,x:0,duration:1e3}),this.scene.tweens.add({targets:this.laser.laserPodRight,x:i,duration:1e3}),this.laser.laserWarning.setVisible(!1),this.laser.laserPodLeft.x=-100,this.laser.laserPodRight.x=1465,this.laser.laserBeam.setVisible(!1),this.laser.laserBeam.setActive(!1)}exit(){this.elapsedTime=0}execute(e,s){this.elapsedTime+=s,this.elapsedTime>=1e3&&this.stateMachine.transition("charging")}},ie=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.laser=e,this.scene=s}enter(){console.log("Laser FiringState"),this.laser.laserPodLeft.play("laser-fire"),this.laser.laserPodRight.play("laser-fire"),this.laser.laserEnergyLeft.play("laser-done"),this.laser.laserEnergyRight.play("laser-done"),this.laser.laserFlashLeft.setVisible(!0),this.laser.laserFlashRight.setVisible(!0),this.laser.laserFlashLeft.play("laser-on"),this.laser.laserFlashRight.play("laser-on"),this.laser.laserBeam.setVisible(!0),this.laser.laserBeam.setActive(!0),this.laser.laserWarning.setVisible(!1),this.laser.laserBeam.play("laser-beam-on"),this.laser.laserStartAudio.play(),this.laser.laserFireAudio.play()}exit(){this.elapsedTime=0,this.laser.laserFireAudio.stop()}execute(e,s){this.elapsedTime+=s,this.elapsedTime>=2e3&&this.stateMachine.transition("stop")}},ae=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.laser=e,this.scene=s}enter(){console.log("Laser ChargingState"),this.laser.laserEnergyLeft.setVisible(!0),this.laser.laserEnergyRight.setVisible(!0),this.laser.laserWarning.setVisible(!0),this.laser.laserPodLeft.play("laser-charge"),this.laser.laserPodRight.play("laser-charge"),this.laser.laserEnergyLeft.play("laser-ready"),this.laser.laserEnergyRight.play("laser-ready"),this.laser.laserWarningAudio.play()}exit(){this.elapsedTime=0,this.laser.laserWarningAudio.stop()}execute(e,s){this.elapsedTime+=s,this.elapsedTime>=1e3&&this.stateMachine.transition("firing")}},re=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.laser=e,this.scene=s}enter(){console.log("Laser ExitState"),this.scene.tweens.add({targets:this.laser.laserPodLeft,x:-100,duration:1e3}),this.scene.tweens.add({targets:this.laser.laserPodRight,x:1465,duration:1e3})}exit(){this.elapsedTime=0}execute(e,s){this.elapsedTime>=1e3&&this.stateMachine.transition("deactivate"),this.elapsedTime+=s}},ne=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.laser=e,this.scene=s}enter(){console.log("Laser StopState"),this.laser.laserPodLeft.play("laser-idle"),this.laser.laserPodRight.play("laser-idle"),this.laser.laserBeam.play("laser-beam-off"),this.laser.laserFlashLeft.play("laser-off"),this.laser.laserFlashRight.play("laser-off"),this.laser.laserStopAudio.play()}exit(){this.laser.laserBeam.setActive(!1),this.laser.laserBeam.setVisible(!1),this.elapsedTime=0}execute(e,s){this.elapsedTime>=1e3&&this.stateMachine.transition("exit"),this.elapsedTime+=s}};class le extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.scene.add.existing(this),this.laserPodLeft=new q(e,-100,0),this.laserPodRight=new q(e,1465,0),this.laserPodRight.flipX=!0,this.laserBeam=new Y(e,682.5,0),this.laserEnergyLeft=new $(e,30,this.laserPodLeft.height/2-30),this.laserEnergyRight=new $(e,1335,this.laserPodRight.height/2-30),this.laserEnergyRight.flipX=!0,this.laserFlashLeft=new ee(e,30,0),this.laserFlashRight=new ee(e,1335,0),this.laserFlashRight.flipX=!0,this.laserPodLeft.setOrigin(0,0),this.laserPodRight.setOrigin(1,0),this.laserBeam.setOrigin(.5,0),this.laserBeam.setScale(20,1),this.laserEnergyLeft.setOrigin(.5,.5),this.laserEnergyRight.setOrigin(.5,.5),this.laserFlashLeft.setOrigin(0,0),this.laserFlashRight.setOrigin(1,0),this.laserWarning=e.add.image(682.5,this.laserPodLeft.height/2-30,"laserWarning"),this.laserWarning.setOrigin(.5,.5),this.laserWarning.setScale(5,.1),this.add(this.laserWarning),this.add(this.laserBeam),this.add(this.laserPodLeft),this.add(this.laserPodRight),this.add(this.laserEnergyLeft),this.add(this.laserFlashLeft),this.add(this.laserEnergyRight),this.add(this.laserFlashRight),this.laserWarningAudio=e.sound.add("laserWarning"),this.laserStartAudio=e.sound.add("laserStart"),this.laserFireAudio=e.sound.add("laserFire",{loop:!0}),this.laserStopAudio=e.sound.add("laserStop"),this.laserWarning.setVisible(!1),this.laserBeam.setVisible(!1),this.laserEnergyLeft.setVisible(!1),this.laserFlashLeft.setVisible(!1),this.laserEnergyRight.setVisible(!1),this.laserFlashRight.setVisible(!1);const i=A.getInstance(e,200,200);this.stateMachine=new c("deactivate",{ready:new te(this,e),charging:new ae(this,e),firing:new ie(this,e),stop:new ne(this,e),exit:new re(this,e),deactivate:new se(this,e)}),this.scene.physics.add.overlap(this.laserBeam,i,((e,s)=>{const t=s;"player-die"!==t.getCurrentState()&&"firing"===this.stateMachine.getState()&&t.stateMachine.transition("player-burn")}))}update(e,s){this.stateMachine.update(e,s)}}const he=le;class oe extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.lasers=[],this.scene.add.existing(this);for(let s=0;s<6;s++){const t=new he(e,0,100*s);this.add(t),this.lasers.push(t)}this.state="idle"}update(e,s){this.lasers.forEach((t=>{t.update(e,s)})),"active"==this.state&&this.lasers.every((e=>"deactivate"===e.stateMachine.getState()))&&(this.state="idle")}getLasers(){return this.lasers}activateLasers(e){e>this.lasers.length&&(e=this.lasers.length),console.log("Amount: ",e);const s=[...this.lasers];for(let t=0;t<e;t++){const e=Phaser.Math.Between(0,s.length-1);s[e].stateMachine.transition("ready"),s.splice(e,1)}this.state="active"}}const ce=oe;class de extends Phaser.GameObjects.Sprite{constructor(e,s,t){super(e,s,t,"missileAlert"),this.scene.add.existing(this),this.anims.create({key:"missileAlert",frames:this.anims.generateFrameNumbers("missileAlert",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"missileIncoming",frames:this.anims.generateFrameNumbers("missileAlert",{start:4,end:7}),frameRate:10,repeat:-1}),this.setScale(2)}}const pe=de,me=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.missileContainer=e,this.scene=s,this.player=this.scene.getPlayer()}enter(){console.log("AlertState"),this.missileContainer.missileAlert.setVisible(!0),this.missileContainer.missile.setPosition(50,0),this.missileContainer.missileAlert.play("missileAlert"),this.missileContainer.state="play",this.missileContainer.missileWarningAudio.play({rate:1})}exit(){console.log("AlertState exit")}execute(e,s){this.elapsedTime+=s,this.elapsedTime>this.missileContainer.duration&&(this.stateMachine.transition("incoming"),this.elapsedTime=0),this.missileContainer.y=this.player.y-50,console.log("AlertState execute")}},ue=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.missileContainer=e,this.scene=s}enter(){console.log("IncomingState"),this.missileContainer.missileAlert.play("missileIncoming"),this.missileContainer.missileWarningAudio.play({rate:2})}exit(){console.log("IncomingState exit"),this.missileContainer.missileAlert.setVisible(!1),this.missileContainer.missileWarningAudio.stop()}execute(e,s){console.log("IncomingState execute"),this.elapsedTime+=s,this.elapsedTime>1e3&&(this.stateMachine.transition("launch"),this.elapsedTime=0)}},ge=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.missileContainer=e,this.scene=s}enter(){console.log("LaunchState"),this.missileContainer.missile.setVisible(!0),this.missileContainer.missileAlert.setVisible(!1),this.missileContainer.missile.body.setVelocityX(-1e3),this.missileContainer.missileLaunchAudio.play()}exit(){console.log("LaunchState exit"),this.missileContainer.missileLaunchAudio.stop()}execute(e,s){console.log("LaunchState execute"),this.missileContainer.missile.x<-this.missileContainer.x-1e3&&this.stateMachine.transition("deactivated")}},ye=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.missileContainer=e,this.scene=s}enter(){console.log("DeactivatedState"),this.missileContainer.missileAlert.setVisible(!1),this.missileContainer.missile.setVisible(!1),this.missileContainer.missile.body.setVelocityX(0),this.missileContainer.missile.setPosition(50,0),this.missileContainer.state="idle",this.missileContainer.missileWarningAudio.stop(),this.missileContainer.missileExplodeAudio.stop(),this.missileContainer.missileLaunchAudio.stop()}exit(){console.log("DeactivatedState exit"),this.missileContainer.missile.reset()}execute(e,s){console.log("DeactivatedState execute")}},be=class extends d{constructor(e,s){super(),this.elapsedTime=0,this.missileContainer=e,this.scene=s}enter(){console.log("ExplodedState"),this.missileContainer.missile.explode(),this.missileContainer.missile.body.setVelocityX(0),this.missileContainer.missileExplodeAudio.play()}exit(){console.log("ExplodedState exit"),this.missileContainer.missileExplodeAudio.stop()}execute(e,s){console.log("ExplodedState execute"),this.elapsedTime+=s,this.elapsedTime>1e3&&(this.stateMachine.transition("deactivated"),this.elapsedTime=0)}};class fe extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.duration=2e3,this.scene.add.existing(this),this.missile=new E(e,50,0),this.missileAlert=new pe(e,0,0),this.missileAlert.setOrigin(1,.5),this.add(this.missile),this.add(this.missileAlert),this.missile.setVisible(!1),this.missileAlert.setVisible(!1);const i=A.getInstance(e,200,200);this.missileWarningAudio=e.sound.add("missileWarning",{loop:!0}),this.missileLaunchAudio=e.sound.add("missileLaunch"),this.missileExplodeAudio=e.sound.add("missileExplode"),this.scene.physics.add.overlap(this.missile,i,((e,s)=>{const t=s;console.log("Boooooooooom"),"player-die"!==t.getCurrentState()&&(t.stateMachine.transition("player-die"),this.stateMachine.transition("exploded"))})),this.stateMachine=new c("deactivated",{alert:new me(this,e),incoming:new ue(this,e),launch:new ge(this,e),deactivated:new ye(this,e),exploded:new be(this,e)})}update(e,s){this.stateMachine.update(e,s)}}const xe=fe;class we extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.missileContainers=[],this.scene.add.existing(this);for(let s=0;s<6;s++){const t=new xe(e,i,100*s);t.duration=1e3*s+1e3,this.add(t),this.missileContainers.push(t)}this.state="idle"}launch(e){e>this.missileContainers.length&&(e=this.missileContainers.length);for(let s=0;s<e;s++){const e=this.missileContainers[s];e.stateMachine.transition("alert"),e.duration=1e3*s+1e3}this.state="launching"}update(e,s){this.missileContainers.forEach((t=>{t.update(e,s)})),"launching"===this.state&&this.missileContainers.every((e=>"deactivated"===e.stateMachine.getState()))&&(this.state="idle")}getMissiles(){return this.missileContainers}}const Se=we,ke=class extends G{constructor(e,s,t){super(e,s,t),this.zapper.rotation=Math.PI/2,this.orb1.setTexture("orb"),this.orb2.setTexture("orb"),this.zapper.setTexture("zapperRotating"),this.glow1.setTexture("orbGlowRotating"),this.glow2.setTexture("orbGlowRotating"),this.zapper.anims.create({key:"zapperRotating",frames:this.zapper.anims.generateFrameNumbers("zapperRotating",{start:0,end:3}),frameRate:12,repeat:-1}),this.glow1.anims.create({key:"glowRotating",frames:this.zapper.anims.generateFrameNumbers("orbGlowRotating",{start:0,end:15}),frameRate:20,repeat:-1}),this.glow2.anims.create({key:"glowRotating",frames:this.zapper.anims.generateFrameNumbers("orbGlowRotating",{start:0,end:15}),frameRate:20,repeat:-1}),this.zapper.play("zapperRotating"),this.glow1.play("glowRotating"),this.glow2.play("glowRotating")}update(e,s){const t=this.getWorldTransformMatrix();this.rotation+=.01;const i=t.tx+this.zapper.x*t.a+this.zapper.y*t.c,a=t.ty+this.zapper.x*t.b+this.zapper.y*t.d;this.polygon.pos=new(O().Vector)(i,a),this.polygon.setAngle(this.rotation);const r=this.getBounds(),n=this.body;n.setSize(r.width,r.height),n.setOffset(r.x-i,r.y-a)}};class _e extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.map=e.make.tilemap({key:"titleMap"}),this.width=this.map.widthInPixels;const i=this.map.addTilesetImage("titleFG_1_TVOS","titleBackground1"),a=this.map.addTilesetImage("titleFG_2_TVOS","titleBackground2");i&&a&&(this.backgroundLayer=this.map.createLayer("Background",[i,a]),this.backgroundLayer&&(this.add(this.backgroundLayer),this.backgroundLayer.setPosition(0,0))),this.wallHole=e.add.image(-34,690,"titleWallHole"),this.wallHole.setOrigin(0,1),this.wallHole.setScale(2),this.wallHole.setVisible(!1),this.add(this.wallHole),this.dust=e.add.particles(32,690,"dust",{speed:{min:500,max:900},lifespan:2e3,gravityY:150,blendMode:"ADD",scale:{start:1.5,end:0},emitting:!1}),this.dust.setAngle(-90),this.dust.stop(),this.bestScreen=new D(e,695,490),this.jetpackStand=new X(e,200,680),this.jetpackStand.setOrigin(0,1),this.jetpackStand.setScale(2),this.add(this.bestScreen),this.add(this.jetpackStand),this.add(this.dust),e.add.existing(this)}update(){this.backgroundLayer&&this.backgroundLayer.setPosition(this.x,this.y)}start(){this.jetpackStand.setFrame(1)}reset(){this.jetpackStand.setFrame(0),this.bestScreen.update()}getBackgroundLayer(){return this.backgroundLayer}getWallHole(){return this.wallHole}displayHole(){this.wallHole.setVisible(!0)}hideHole(){this.wallHole.setVisible(!1)}explode(){this.dust.explode(90)}displaySmoke(){this.dust.start()}hideSmoke(){this.dust.stop()}}const Pe=_e;class Me extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.currentSound=0,this.zappers=[],this.map=e.make.tilemap({key:"hallwayMap"}),this.width=this.map.widthInPixels;const i=this.map.addTilesetImage("hallway1FG_1_TVOS","hallway1"),a=this.map.addTilesetImage("hallway1FG_2_TVOS","hallway2");i&&a&&(this.backgroundLayer=this.map.createLayer("Background",[i,a]),this.backgroundLayer&&(this.add(this.backgroundLayer),this.backgroundLayer.setPosition(this.x,this.y)));const r=A.getInstance(e,200,200),n=(this.map.createLayer(0,"coinLayer",0,0),this.map.createLayer(1,"zapperLayer",0,0),this.map.filterObjects("Zapper",(e=>e.name.includes("Zapper")))),l=this.map.createFromObjects("Trigger",{id:75});l.forEach((s=>{s&&(e.physics.add.existing(s),e.physics.world.enable(s),s.body.setAllowGravity(!1)),s.setVisible(!1)})),this.add(l),e.physics.add.overlap(l,r,((s,t)=>{const i=e.missiles;if(console.log("Missile Attack"),console.log("Missile state: ",i.state),"idle"==i.state){const e=Phaser.Math.Between(3,6);i.launch(e),console.log("Missile is Attacking")}}),void 0,this),null==n||n.forEach((s=>{if(console.log(s),s){const t=s.x?s.x:0,i=s.y?s.y:0;let a;a=0==Phaser.Math.Between(0,1)?new G(e,t,i):new ke(e,t,i),this.zappers.push(a),this.add(a)}})),this.coins=this.map.createFromObjects("Coin",{gid:9525,key:"coin"}),this.scoreManager=C.getInstance(),e.anims.play("spin",this.coins),this.coins.forEach((s=>{e.physics.add.existing(s),e.physics.world.enable(s),s.body.setAllowGravity(!1),s.state="idle"})),this.add(this.coins),e.physics.add.overlap(r,this.coins,this.collectCoin,void 0,this),e.add.existing(this),this.coinPickupSound=[this.scene.sound.add("coinPickup1"),this.scene.sound.add("coinPickup2"),this.scene.sound.add("coinPickup3")]}update(e,s){this.backgroundLayer&&this.backgroundLayer.setPosition(this.x,this.y),this.zappers.forEach((t=>{t.update(e,s)}))}getBackgroundLayer(){return this.backgroundLayer}collectCoin(e,s){"collected"!=s.state&&(console.log("Coin collected"),s.state="collected",this.scene.anims.play("collect",s),this.scoreManager.increaseCoin(1),this.coinPickupSound[this.currentSound].play(),this.currentSound=(this.currentSound+1)%this.coinPickupSound.length)}reset(){this.coins.filter((e=>"collected"==e.state)).forEach((e=>{e.setVisible(!0),this.scene.anims.play("spin",e),e.state="idle"}))}}const Te=Me;class ve extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.map=e.make.tilemap({key:"labMap"}),this.width=this.map.widthInPixels;const i=this.map.addTilesetImage("lab1FG_1_TVOS","lab1"),a=this.map.addTilesetImage("lab1FG_2_TVOS","lab2");i&&a&&(this.backgroundLayer=this.map.createLayer("Background",[i,a]),this.backgroundLayer&&(this.add(this.backgroundLayer),this.backgroundLayer.setPosition(0,0)));const r=A.getInstance(e,200,200),n=this.map.createFromObjects("Trigger",{name:"laser"});n.forEach((s=>{s&&(e.physics.add.existing(s),e.physics.world.enable(s),s.body.setAllowGravity(!1)),s.setVisible(!1)})),this.scene.physics.add.overlap(n,r,((s,t)=>{const i=e.lasers;if("idle"===i.state){const e=Phaser.Math.Between(2,4);i.activateLasers(e)}})),this.add(n),this.coins=new B(e,2e3,500),this.add(this.coins),e.add.existing(this)}update(){this.backgroundLayer&&this.backgroundLayer.setPosition(this.x,this.y)}getBackgroundLayer(){return this.backgroundLayer}reset(){this.coins.resetCoin()}}const Oe=ve;class Le extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.currentSound=0,this.zappers=[],this.map=e.make.tilemap({key:"roomMap"}),this.width=this.map.widthInPixels;const i=this.map.addTilesetImage("room1FG_1_TVOS","room1"),a=this.map.addTilesetImage("room1FG_2_TVOS","room2");i&&a&&(this.backgroundLayer=this.map.createLayer("Background",[i,a]),this.backgroundLayer&&(this.add(this.backgroundLayer),this.backgroundLayer.setPosition(this.x,this.y)));const r=A.getInstance(e,200,200),n=(this.map.createLayer(0,"coinLayer",0,0),this.map.createLayer(1,"zapperLayer",0,0),this.map.filterObjects("Zapper",(e=>e.name.includes("Zapper")))),l=this.map.createFromObjects("Trigger",{id:79});l.forEach((s=>{s&&(e.physics.add.existing(s),e.physics.world.enable(s),s.body.setAllowGravity(!1)),s.setVisible(!1)})),this.add(l),e.physics.add.overlap(l,r,((s,t)=>{const i=e.missiles;if(console.log("Missile Attack"),console.log("Missile state: ",i.state),"idle"==i.state){const e=Phaser.Math.Between(3,6);i.launch(e),console.log("Missile is Attacking")}}),void 0,this),null==n||n.forEach((s=>{if(console.log(s),s){const t=s.x?s.x:0,i=s.y?s.y:0;let a;a=0==Phaser.Math.Between(0,1)?new G(e,t,i):new ke(e,t,i),this.zappers.push(a),this.add(a)}})),this.coins=this.map.createFromObjects("Coin",{gid:2049,key:"coin"}),this.scoreManager=C.getInstance(),e.anims.play("spin",this.coins),this.coins.forEach((s=>{e.physics.add.existing(s),e.physics.world.enable(s),s.body.setAllowGravity(!1),s.state="idle"})),this.add(this.coins),e.physics.add.overlap(r,this.coins,this.collectCoin,void 0,this),e.add.existing(this),this.coinPickupSound=[this.scene.sound.add("coinPickup1"),this.scene.sound.add("coinPickup2"),this.scene.sound.add("coinPickup3")]}update(e,s){this.backgroundLayer&&this.backgroundLayer.setPosition(this.x,this.y),this.zappers.forEach((t=>{t.update(e,s)}))}getBackgroundLayer(){return this.backgroundLayer}collectCoin(e,s){"collected"!=s.state&&(console.log("Coin collected"),s.state="collected",this.scene.anims.play("collect",s),this.scoreManager.increaseCoin(1),this.coinPickupSound[this.currentSound].play(),this.currentSound=(this.currentSound+1)%this.coinPickupSound.length)}reset(){this.coins.filter((e=>"collected"==e.state)).forEach((e=>{e.setVisible(!0),this.scene.anims.play("spin",e),e.state="idle"}))}}const Ae=Le,Fe=class extends d{constructor(e){super(),this.scene=e,this.elapsedTime=0}enter(){console.log("StartState"),this.scene.setMapList([...this.scene.initialMapList]);const e=this.scene.getMapList();this.scene.initialMapList.forEach((e=>{(e instanceof Oe||e instanceof Te||e instanceof Ae)&&e.reset()})),console.log(this.scene.initialMapList),console.log(e),e[0].setPosition(0,0);for(let s=1;s<e.length;s++)e[s].setPosition(e[s-1].x+e[s-1].width-192,0);const s=this.scene.getMap();s.add(e[0]),s.sendToBack(e[1]),s.sendToBack(e[2]),e.forEach((e=>e.update())),this.scene.title.y=384,this.scene.getPlayer().setPosition(200,576),this.scene.getShadow().x=this.scene.getPlayer().x+30,this.scene.getPlayer().setVisible(!1),this.scene.getPlayer().bulletPool.despawnAll(),this.scene.getPlayer().bulletFlash.setVisible(!1),this.scene.getPlayer().getShell().stop(!0),this.scene.getShadow().setVisible(!1),this.scene.scoreUI.setVisible(!1),this.scene.cameras.main.fadeIn(1e3,0,0,0),this.scene.sound.stopAll(),this.scene.menuAmbiance.play(),this.scene.titleMap.reset(),this.scene.pauseButton.setVisible(!1),this.scene.pauseButton.setActive(!1),this.scene.touchText.setVisible(!0),this.scene.titleMap.hideHole(),this.scene.lasers.getLasers().forEach((e=>{e.stateMachine.transition("deactivate")})),this.scene.missiles.getMissiles().forEach((e=>{e.stateMachine.transition("deactivated")})),this.scene.getPlayer().stateMachine.transition("player-run")}exit(){this.tween=this.scene.tweens.add({targets:this.scene.title,y:-200,duration:500,ease:"Cubic"}),this.elapsedTime=0,this.scene.scoreUI.setVisible(!0),this.scene.scoreUI.update(),this.scene.menuAmbiance.stop(),this.scene.touchText.setVisible(!1)}execute(e,s){var t,i;((null===(i=null===(t=this.scene.input.keyboard)||void 0===t?void 0:t.createCursorKeys().space)||void 0===i?void 0:i.isDown)||this.scene.input.activePointer.isDown)&&this.elapsedTime>=2e3?(console.log("StartState -> IntroState"),this.stateMachine.transition("intro")):this.elapsedTime+=s}},Ce=class extends d{constructor(e){super(),this.elapsedTime=0,this.scene=e}enter(){var e;this.pauseKey=null===(e=this.scene.input.keyboard)||void 0===e?void 0:e.addKey(Phaser.Input.Keyboard.KeyCodes.ESC),this.scene.pauseButton.setVisible(!0),this.scene.pauseButton.setActive(!0)}exit(){this.elapsedTime=0}execute(e,s){var t;"player-die"===this.scene.getPlayer().getCurrentState()&&this.stateMachine.transition("over"),this.elapsedTime>1e3&&this.scene.pauseButton.setInteractive(),(null===(t=this.pauseKey)||void 0===t?void 0:t.isDown)&&this.elapsedTime>1e3&&this.stateMachine.transition("pause"),this.scene.getPlayer().update(e,s),this.scene.getShadow().setScale(1.5*(1-(576-this.scene.getPlayer().y)/460)+.1);const i=this.scene.getMap(),r=this.scene.getMapList(),n=a*s/1e3;i.each((e=>{e.x+e.width<0&&(i.remove(e),r.shift(),e instanceof Pe||(e.x=r[r.length-1].x+r[r.length-1].width-192,r.push(e),i.add(e),i.sendToBack(e),(e instanceof Te||e instanceof Oe||e instanceof Ae)&&e.reset())),e.x-=n,e.update()})),this.scene.scoreManager.increaseDistance(n/32),this.scene.scoreUI.update(),this.elapsedTime+=s,this.scene.lasers.update(e,s),this.scene.missiles.update(e,s)}},Ve=class extends d{constructor(e){super(),this.acceleration=-400,this.speed=a,this.scene=e}enter(){this.speed=a}exit(){this.scene.resultUI.update()}execute(e,s){const t=this.scene.getPlayer().body;this.scene.getPlayer().isDead()&&0===t.velocity.y&&0===this.speed&&this.stateMachine.transition("result"),this.scene.getPlayer().update(e,s),this.scene.getShadow().setScale(1.5*(1-(576-this.scene.getPlayer().y)/460)+.1);const i=this.scene.getMap(),a=this.scene.getMapList();this.speed>0&&t.blocked.down&&(this.speed+=this.acceleration*s/1e3,console.log("Speed: ",this.speed),this.speed<0&&(this.speed=0)),i.each((e=>{e.x+e.width<0&&(i.remove(e),a.shift(),e instanceof Pe||(e.x=a[a.length-1].x+a[a.length-1].width-192,a.push(e),i.add(e),i.sendToBack(e),(e instanceof Te||e instanceof Oe)&&e.reset())),e.x-=this.speed*s/1e3,e.update()}))}},Be=class extends d{constructor(e){super(),this.elapsedTime=0,this.scene=e}enter(){var e;this.scene.getPlayer().pause(),this.pauseKey=null===(e=this.scene.input.keyboard)||void 0===e?void 0:e.addKey(Phaser.Input.Keyboard.KeyCodes.ESC),this.scene.physics.pause(),this.scene.sound.pauseAll(),this.scene.menuMusic.play(),this.scene.overlay.setVisible(!0),this.scene.pauseUI.setVisible(!0),this.scene.pauseUI.setActive(!0),this.scene.pauseUI.setInteractive(),this.scene.pauseButton.setActive(!1),this.scene.pauseButton.disableInteractive()}exit(){this.scene.getPlayer().resume(),this.scene.physics.resume(),this.elapsedTime=0,this.scene.sound.resumeAll(),this.scene.menuMusic.stop(),this.scene.overlay.setVisible(!1),this.scene.pauseUI.setVisible(!1),this.scene.pauseButton.setActive(!0),this.scene.pauseButton.setInteractive()}execute(e,s){this.elapsedTime+=s}},Re=class extends d{constructor(e){super(),this.scene=e}enter(){this.scene.resultUI.update(),this.scene.resultUI.setVisible(!0),this.scene.overlay.setVisible(!0),this.scene.physics.pause(),this.scene.game.sound.stopAll(),this.scene.menuMusic.play()}exit(){this.scene.scoreManager.reset(),this.scene.resultUI.setVisible(!1),this.scene.overlay.setVisible(!1),this.scene.resultUI.update(),this.scene.physics.resume(),this.scene.menuMusic.stop()}execute(e,s){}},je=class extends d{constructor(e){super(),this.scene=e,this.target=new Phaser.Math.Vector2(500,576)}enter(){this.scene.getPlayer().setVisible(!0),this.scene.getShadow().setVisible(!0),this.scene.physics.moveToObject(this.scene.getPlayer(),this.target,a),this.scene.cameras.main.shake(500,.01),this.scene.titleMap.displayHole(),this.scene.titleMap.explode(),this.scene.windowSmash.play(),this.scene.titleMap.start()}exit(){this.scene.titleMap.hideSmoke(),this.scene.levelMusic.play()}execute(e,s){this.scene.getPlayer().x>=this.target.x&&(this.scene.getPlayer().body.setVelocity(0,0),this.stateMachine.transition("play"),this.scene.getPlayer().setPosition(this.target.x,this.target.y)),this.scene.getShadow().x=this.scene.getPlayer().x+30}};class Ie extends Phaser.GameObjects.Container{constructor(e,s,t,i,a,r=""){super(e,s,t);const n=e.add.image(0,0,"buttonBacking");n.scaleX=1.5,n.scaleY=.5;const l=e.add.bitmapText(0,0,"NewAthleticM54White",i,32);if(Phaser.Display.Align.In.Center(l,n),this.add(n),this.add(l),r){const s=e.add.image(-100,0,r);this.add(s)}this.onClick=a,this.setSize(n.width*n.scaleX,n.height*n.scaleY),this.setInteractive(),this.setScale(1),this.on("pointerdown",(()=>{this.scale=.9,console.log("Button clicked")})),this.on("pointerup",(()=>{console.log("Button released"),this.scale=1,this.onClick()})),e.add.existing(this)}}const Ge=Ie;class Ne extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.scoreManager=C.getInstance();const i=e.add.bitmapText(0,0,"NewAthleticM54GrayInverted","YOU FLEW",32);this.distanceText=e.add.bitmapText(0,60,"NewAthleticM54Gold",`${this.scoreManager.getDistance()}m`,72);const a=e.add.bitmapText(0,140,"NewAthleticM54GrayInverted","AND COLLECTED",32);this.coinText=e.add.bitmapText(0,200,"NewAthleticM54Gold",`${this.scoreManager.getCoin()}`,32),i.setOrigin(.5),this.distanceText.setOrigin(.5),a.setOrigin(.5),this.coinText.setOrigin(.5),this.nextButton=new Ge(e,0,300,"Next",(()=>{console.log("Next"),e.stateMachine.transition("start"),e.sound.play("UIBack")})),this.add(i),this.add(this.distanceText),this.add(a),this.add(this.coinText),this.add(this.nextButton),e.add.existing(this)}update(){this.distanceText.setText(`${Math.floor(this.scoreManager.getDistance())}m`),this.coinText.setText(`Coins: ${this.scoreManager.getCoin()}`)}}const Ee=Ne;class ze extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.scoreManager=C.getInstance(),this.distanceText=e.add.bitmapText(16,16,"NewAthleticM54Gray","0000m",64),this.bestDistanceText=e.add.bitmapText(16,80,"NewAthleticM54DarkGray",`BEST: ${this.scoreManager.getBestDistance()}`,32),this.coinText=e.add.bitmapText(16,110,"NewAthleticM54Gold","000",36),this.coinText.setLetterSpacing(2.5),this.coinIcon=e.add.image(this.coinText.width+20,120,"coinIcon"),this.coinIcon.setOrigin(0,0),this.coinIcon.setScale(.75),this.add(this.bestDistanceText),this.add(this.distanceText),this.add(this.coinText),this.add(this.coinIcon),e.add.existing(this)}update(){this.distanceText.setText(`${String(Math.floor(this.scoreManager.getDistance())).padStart(4,"0")}m`),this.coinText.setText(`${String(Math.floor(this.scoreManager.getCoin())).padStart(3,"0")}`),this.bestDistanceText.setText(`BEST: ${this.scoreManager.getBestDistance()}`)}}const We=ze;class He extends Phaser.GameObjects.Container{constructor(e,s,t){super(e,s,t),this.pauseText=e.add.bitmapText(0,-200,"NewAthleticM54White","PAUSE",64),this.pauseText.setOrigin(.5,0),this.continueButton=new Ge(e,0,0,"Continue",(()=>{console.log("Continue"),e.stateMachine.transition("play"),e.sound.play("UISelect")})),this.homeButton=new Ge(e,0,100,"Home",(()=>{console.log("Home"),e.stateMachine.transition("start"),e.sound.play("UIBack")})),this.add(this.pauseText),this.add(this.continueButton),this.add(this.homeButton),e.add.existing(this)}}const De=He;class Ue extends Phaser.GameObjects.Image{constructor(e,s,t){super(e,s,t,"pauseButton"),this.setInteractive(),this.setScale(1),e.add.existing(this),this.on("pointerdown",(()=>{this.setScale(.8)})),this.on("pointerup",(()=>{"pause"!==e.stateMachine.getState()&&(this.setScale(1),e.stateMachine.transition("pause"),e.sound.play("UISelect"))}))}}const Xe=Ue;class Ke extends Phaser.Scene{constructor(){super("PlayScene"),this.mapList=[],this.initialMapList=[]}preload(){this.anims.create({key:"spin",frames:this.anims.generateFrameNumbers("coin",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"collect",frames:this.anims.generateFrameNumbers("coinCollect",{start:0,end:3}),frameRate:10,repeat:0,hideOnComplete:!0})}create(){var e;this.sound.add("UISelect"),this.sound.add("UIBack"),this.scoreManager=C.getInstance(),this.map=this.add.container(0,0),this.titleMap=new Pe(this,0,0);const s=new Te(this,928,0),t=new Oe(this,928+s.width-192,0),i=new Ae(this,928+(s.width-192+t.width)-192,0);console.log(s.width),console.log(t.width),console.log(this.titleMap.width),this.map.add(s),this.map.add(t),this.map.add(i),this.map.sendToBack(s),this.map.sendToBack(t),this.map.sendToBack(i),this.initialMapList=[this.titleMap,s,t,i],this.title=new j(this,682.5,384),this.title.setScale(.8),this.touchText=this.add.bitmapText(682.5,584,"NewAthleticM54White","TOUCH ANYWHERE TO PLAY",32),this.touchText.setOrigin(.5),this.tweens.add({targets:this.touchText,alpha:0,duration:500,yoyo:!0,repeat:-1}),this.shadow=this.add.image(230,650,"player-shadow"),this.shadow.setAlpha(.5),this._player=A.getInstance(this,200,200),this._player.setScale(2),this.shadow.setScale(1.5),this.cursors=null===(e=this.input.keyboard)||void 0===e?void 0:e.createCursorKeys(),this.platforms=this.physics.add.staticGroup(),this.platforms.create(682.5,660,"ground").setScale(50,1).refreshBody(),this.platforms.create(682.5,100,"ground").setScale(50,1).refreshBody(),this.platforms.setVisible(!1),this.physics.add.collider(this._player,this.platforms),this.lasers=new ce(this,0,100),this.missiles=new Se(this,0,100),this.scoreUI=new We(this,0,0),this.pauseButton=new Xe(this,1315,50),this.pauseButton.setVisible(!1),this.pauseButton.setActive(!1),this.overlay=this.add.graphics(),this.overlay.fillStyle(0,.7),this.overlay.fillRect(0,0,this.cameras.main.width,this.cameras.main.height),this.overlay.setVisible(!1),this.pauseUI=new De(this,682.5,384),this.resultUI=new Ee(this,682.5,184),this.pauseUI.setVisible(!1),this.resultUI.setVisible(!1),this.levelMusic=this.sound.add("musicLevel",{loop:!0}),this.menuAmbiance=this.sound.add("menuAmbiance",{loop:!0}),this.windowSmash=this.sound.add("windowSmash"),this.menuMusic=this.sound.add("menuMusic",{loop:!0}),this.stateMachine=new c("start",{start:new Fe(this),intro:new je(this),play:new Ce(this),pause:new Be(this),over:new Ve(this),result:new Re(this)})}update(e,s){this.stateMachine.update(e,s)}getPlayer(){return this._player}getMap(){return this.map}getMapList(){return this.mapList}setMapList(e){this.mapList=e}getShadow(){return this.shadow}}const Ye=Ke;class Ze extends Phaser.Scene{constructor(){super("PreloadScene")}preload(){this.load.bitmapFont("NewAthleticM54","assets/fonts/NewAthleticM54.png","assets/fonts/NewAthleticM54.xml"),this.load.bitmapFont("NewAthleticM54Gray","assets/fonts/NewAthleticM54Gray.png","assets/fonts/NewAthleticM54Gray.xml"),this.load.bitmapFont("NewAthleticM54DarkGray","assets/fonts/NewAthleticM54DarkGray.png","assets/fonts/NewAthleticM54DarkGray.xml"),this.load.bitmapFont("NewAthleticM54GrayInverted","assets/fonts/NewAthleticM54GrayInverted.png","assets/fonts/NewAthleticM54GrayInverted.xml"),this.load.bitmapFont("NewAthleticM54Gold","assets/fonts/NewAthleticM54Gold.png","assets/fonts/NewAthleticM54Gold.xml"),this.load.bitmapFont("NewAthleticM54Blue","assets/fonts/NewAthleticM54Blue.png","assets/fonts/NewAthleticM54Blue.xml"),this.load.bitmapFont("NewAthleticM54White","assets/fonts/NewAthleticM54White.png","assets/fonts/NewAthleticM54White.xml"),this.load.image("loadingScreen","assets/Splash/loading_screen.png")}create(){this.scene.start("LoadingScene")}}const $e=Ze;class Je extends Phaser.Scene{constructor(){super("LoadingScene")}preload(){this.add.image(0,0,"loadingScreen").setOrigin(0);const e=this.add.graphics(),s=this.add.graphics();e.fillStyle(2236962,.8),e.fillRect(182.5,600,1e3,20);const t=this.cameras.main.width,i=this.cameras.main.height,a=this.make.text({x:t/2,y:i/2-50,text:"Loading...",style:{font:"20px monospace"}});a.setOrigin(.5,.5);const r=this.make.text({x:t/2,y:i/2+25,text:"0%",style:{font:"18px monospace"}});r.setOrigin(.5,.5);const n=this.make.text({x:t/2,y:i/2+100,text:"",style:{font:"18px monospace"}});n.setOrigin(.5,.5),this.load.on("progress",(function(e){s.clear(),s.fillStyle(16777215,1),s.fillRect(187.5,605,990*e,10),r.setText(parseInt(String(100*e))+"%")})),this.load.on("fileprogress",(function(e){n.setText("Loading asset: "+e.key)})),this.load.on("complete",(function(){s.destroy(),e.destroy(),a.destroy(),r.destroy(),n.destroy()})),this.load.image("titleBackground1","assets/Levels/Title/titleFG_1_TVOS.png"),this.load.image("titleBackground2","assets/Levels/Title/titleFG_2_TVOS.png"),this.load.image("titleWallHole","assets/Levels/Title/titleWallHole.png"),this.load.image("hallway1","assets/Levels/Hallway1/hallway1FG_1_TVOS.png"),this.load.image("hallway2","assets/Levels/Hallway1/hallway1FG_2_TVOS.png"),this.load.image("room1","assets/Levels/Room1/room1FG_1_TVOS.png"),this.load.image("room2","assets/Levels/Room1/room1FG_2_TVOS.png"),this.load.tilemapTiledJSON("roomMap","assets/room.json"),this.load.image("coinIcon","assets/Entities/coinSlow_TVOS.png"),this.load.spritesheet("coin","assets/Entities/coin1_TVOS.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("coinCollect","assets/Entities/coinCollect1_TVOS.png",{frameWidth:64,frameHeight:64}),this.load.tilemapTiledJSON("arrowCoinMap","assets/arrow-coin.json"),this.load.tilemapTiledJSON("coinShape","assets/coinShape1.json"),this.load.image("alarmLight","assets/Levels/Title/alarmLight_TVOS.png"),this.load.spritesheet("bestScreen","assets/Levels/Title/bestScreen_TVOS.png",{frameWidth:256,frameHeight:128}),this.load.image("doNotTouchSign","assets/Levels/Title/doNotTouchSign_TVOS.png"),this.load.image("lightEffect","assets/Levels/Title/lightEffect.png"),this.load.image("lightEffect2","assets/Levels/Title/lightEffect2.png"),this.load.image("table","assets/Levels/Title/table.png"),this.load.image("titleLight","assets/Levels/Title/title_light_TVOS.png"),this.load.spritesheet("jetpackStand","assets/Levels/Title/Objects/JetpackStand.png",{frameWidth:34,frameHeight:46}),this.load.tilemapTiledJSON("titleMap","assets/titleMapBG.json"),this.load.image("sectorNumbers","assets/Levels/Hallway1/sectorNumbers_TVOS.png"),this.load.image("sectorLight","assets/Levels/Hallway1/sectorLight.png"),this.load.image("hallwayAssets","assets/atlas/hallway_assets.png"),this.load.tilemapTiledJSON("hallwayMap","assets/hallway.json"),this.load.image("lab1","assets/Levels/lab1/lab1FG_1_TVOS.png"),this.load.image("lab2","assets/Levels/lab1/lab1FG_2_TVOS.png"),this.load.tilemapTiledJSON("labMap","assets/lab.json"),this.load.atlas("hallway","assets/atlas/hallway_assets.png","assets/atlas/hallway_assets.json"),this.load.image("bullet","assets/Characters/Effects/effect_smgbullet.png"),this.load.image("shell","assets/Characters/Effects/effect_rocketmgshell_TVOS.png"),this.load.image("dust","assets/particles/dust.png"),this.load.image("smoke","assets/particles/smoke.png"),this.load.spritesheet("bullet-flash","assets/Characters/Effects/bulletFlash_TVOS.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("bulletSplash","assets/Characters/Effects/bulletSplash_TVOS.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("player-body","assets/Characters/Barry/defaultBody.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("player-head","assets/Characters/Barry/defaultHead.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("jetpack","assets/Characters/Jetpacks/jetpackDefault.png",{frameWidth:32,frameHeight:44}),this.load.image("player-shadow","assets/Characters/effect_shadow.png"),this.load.spritesheet("pickup","assets/Pickup/pickup_TVOS.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("gramophone","assets/Levels/Title/gramophone_TVOS.png",{frameWidth:64,frameHeight:128}),this.load.image("title","assets/Levels/Title/Objects/title_small.png"),this.load.image("titleGlow","assets/Levels/Title/Objects/titleGlow_small.png"),this.load.image("pauseButton","assets/UI/buttonPause.png"),this.load.image("buttonBacking","assets/UI/buttonBacking.png"),this.load.spritesheet("orb","assets/Obstacles/Zapper/orbAnim.png",{frameWidth:62,frameHeight:42}),this.load.spritesheet("orbGlow","assets/Obstacles/Zapper/RegularZappers/glow.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("orbGlowRotating","assets/Obstacles/Zapper/RotatingZappers/glowRotating.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("zapper","assets/Obstacles/Zapper/RegularZappers/zapEffects.png",{frameWidth:256,frameHeight:117}),this.load.spritesheet("zapperRotating","assets/Obstacles/Zapper/RotatingZappers/zapEffectsRotating.png",{frameWidth:256,frameHeight:117}),this.load.spritesheet("laser","assets/Obstacles/Laser/laser.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("laserEnergy","assets/Obstacles/Laser/laserEnergy.png",{frameWidth:256,frameHeight:256}),this.load.spritesheet("laserPower","assets/Obstacles/Laser/laserPower.png",{frameWidth:64,frameHeight:64}),this.load.image("laserWarning","assets/Obstacles/Laser/laserWarning.png"),this.load.spritesheet("missile","assets/Obstacles/Missile/missile.png",{frameWidth:32,frameHeight:32}),this.load.spritesheet("missileEffects","assets/Obstacles/Missile/missileEffects.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("missileAlert","assets/Obstacles/Missile/missileAlert.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("missileExplosion","assets/Obstacles/Missile/missileExplosion.png",{frameWidth:64,frameHeight:64}),this.load.audio("musicLevel","assets/BGM/Music_Level.mp3"),this.load.audio("menuAmbiance","assets/BGM/menu_amb_lp.mp3"),this.load.audio("menuMusic","assets/BGM/Music_Menu.mp3"),this.load.audio("windowSmash","assets/SFX/Environtment/window_smash.mp3"),this.load.audio("coinPickup1","assets/SFX/Obstacle/Coin/coin_pickup_1.mp3"),this.load.audio("coinPickup2","assets/SFX/Obstacle/Coin/coin_pickup_2.mp3"),this.load.audio("coinPickup3","assets/SFX/Obstacle/Coin/coin_pickup_3.mp3"),this.load.audio("laserWarning","assets/SFX/Obstacle/Laser/laser_warning.mp3"),this.load.audio("laserStart","assets/SFX/Obstacle/Laser/laser_start.mp3"),this.load.audio("laserFire","assets/SFX/Obstacle/Laser/laser_fire_lp.mp3"),this.load.audio("laserStop","assets/SFX/Obstacle/Laser/laser_stop.mp3"),this.load.audio("missileWarning","assets/SFX/Obstacle/Missile/missile_warning.mp3"),this.load.audio("missileLaunch","assets/SFX/Obstacle/Missile/missile_launch.mp3"),this.load.audio("missileExplode","assets/SFX/Obstacle/Missile/rocket_explode_1.mp3"),this.load.audio("playerBones","assets/SFX/Barry/Player_bones.mp3"),this.load.audio("jetpackFire","assets/SFX/Jetpack/jetpack_fireLP.mp3"),this.load.audio("UISelect","assets/SFX/UI/ui_select.mp3"),this.load.audio("UIBack","assets/SFX/UI/ui_back.mp3")}create(){this.scene.start("PlayScene")}}const qe=Je;new class{constructor(){console.log("Game created");const e={type:Phaser.AUTO,width:i,height:768,backgroundColor:"#000000",scene:[$e,qe,Ye,h],physics:{default:"arcade",arcade:{gravity:{x:0,y:1e3}}},scale:{mode:Phaser.Scale.FIT,autoCenter:Phaser.Scale.CENTER_BOTH}};this._game=new Phaser.Game(e)}}}},t={};function i(e){var a=t[e];if(void 0!==a)return a.exports;var r=t[e]={exports:{}};return s[e].call(r.exports,r,r.exports,i),r.exports}i.m=s,e=[],i.O=(s,t,a,r)=>{if(!t){var n=1/0;for(c=0;c<e.length;c++){for(var[t,a,r]=e[c],l=!0,h=0;h<t.length;h++)(!1&r||n>=r)&&Object.keys(i.O).every((e=>i.O[e](t[h])))?t.splice(h--,1):(l=!1,r<n&&(n=r));if(l){e.splice(c--,1);var o=a();void 0!==o&&(s=o)}}return s}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[t,a,r]},i.n=e=>{var s=e&&e.__esModule?()=>e.default:()=>e;return i.d(s,{a:s}),s},i.d=(e,s)=>{for(var t in s)i.o(s,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})},i.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={792:0};i.O.j=s=>0===e[s];var s=(s,t)=>{var a,r,[n,l,h]=t,o=0;if(n.some((s=>0!==e[s]))){for(a in l)i.o(l,a)&&(i.m[a]=l[a]);if(h)var c=h(i)}for(s&&s(t);o<n.length;o++)r=n[o],i.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return i.O(c)},t=self.webpackChunktype_project_template=self.webpackChunktype_project_template||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))})();var a=i.O(void 0,[96],(()=>i(173)));a=i.O(a)})();